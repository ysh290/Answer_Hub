<scroll-view class="square" scroll-y>
  <view class="filters">
    <picker mode="selector" range="{{examTypes}}" value="{{examTypeIndex}}" bindchange="onExamTypeChange">
      <view class="filter-item">{{examTypes[examTypeIndex]}}</view>
    </picker>
    <picker mode="selector" range="{{subjects}}" value="{{subjectIndex}}" bindchange="onSubjectChange">
      <view class="filter-item">{{subjects[subjectIndex]}}</view>
    </picker>
    <picker mode="selector" range="{{stages}}" value="{{stageIndex}}" bindchange="onStageChange">
      <view class="filter-item">{{stages[stageIndex]}}</view>
    </picker>
  </view>

  <block wx:for="{{list}}" wx:key="id">
    <view class="card" bindtap="goToDetail" data-id="{{item.id}}">
      <view class="card-header">
        <image class="avatar" src="{{item.userDo.avatar || '/static/äºº.png'}}"></image>
        <view class="meta">
          <text class="name">{{item.userDo.userName ||'æœªçŸ¥ç”¨æˆ·'}}</text>
          <text class="time">{{item.posts.createTime || 'åˆšåˆš'}}</text>
        </view>
        <text class="tag">{{item.posts.askSubject || 'æœªçŸ¥'}}</text>
      </view>
      <view class="content">{{item.posts.question || 'æš‚æ— å†…å®¹'}}</view>
      <!-- å•å›¾æ˜¾ç¤º -->
      <view wx:if="{{item.askImages && item.askImages.length}}">
        <view wx:for="{{item.askImages}}" wx:key="index">
         <image class="qimg" src="{{item.imageUrl}}" mode="widthFix"></image>
        </view>
      </view>
      
      <view class="actions">
        <text class="action" bindtap="likePost">ğŸ‘ {{item.likes || 0}}</text>
        <text class="action">ğŸ’¬ {{item.comments || 0}}</text>
        <text class="action">â­ {{item.collections || 0}}</text>
        <view class="issolved" wx:if="{{item.issolved}}">å·²è§£ç­”</view>
        <view class="notsolved" wx:elif="{{!item.issolved}}">æœªè§£ç­”</view>
      </view>
    </view>
  </block>

  <view wx:if="{{!list.length}}" class="empty">æš‚æ— æ•°æ®</view>
</scroll-view>

