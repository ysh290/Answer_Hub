<scroll-view class="square" scroll-y>
  <view class="filters">
    <picker mode="selector" range="{{examTypes}}" value="{{examTypeIndex}}" bindchange="onExamTypeChange">
      <view class="filter-item">{{examTypes[examTypeIndex]}}</view>
    </picker>
    <picker mode="selector" range="{{subjects}}" value="{{subjectIndex}}" bindchange="onSubjectChange">
      <view class="filter-item">{{subjects[subjectIndex]}}</view>
    </picker>
    <picker mode="selector" range="{{stages}}" value="{{stageIndex}}" bindchange="onStageChange">
      <view class="filter-item">{{stages[stageIndex]}}</view>
    </picker>
  </view>

  <block wx:for="{{list}}" wx:key="id">
    <view class="card" bindtap="goToDetail" data-id="{{item.id}}">
      <view class="card-header">
        <image class="avatar" src="{{item.user && item.user.avatar ? item.user.avatar : '/static/人.png'}}"></image>
        <view class="meta">
          <text class="name">{{item.user && item.user.name ? item.user.name : '未知用户'}}</text>
          <text class="time">{{item.time || '刚刚'}}</text>
        </view>
        <text class="tag">{{item.tag || '未知'}}</text>
      </view>
      <view class="content">{{item.content || '暂无内容'}}</view>
      <image wx:if="{{item.image}}" class="qimg" src="{{item.image}}" mode="widthFix"></image>
      <view class="actions">
        <text class="action" bindtap="likePost">👍 {{item.likes || 0}}</text>
        <text class="action">💬 {{item.comments || 0}}</text>
        <text class="action">⭐ {{item.collections || 0}}</text>
        <view class="issolved" wx:if="{{item.issolved}}">已解答</view>
        <view class="notsolved" wx:elif="{{!item.issolved}}">未解答</view>
      </view>
    </view>
  </block>

  <view wx:if="{{!list.length}}" class="empty">暂无数据</view>
</scroll-view>

